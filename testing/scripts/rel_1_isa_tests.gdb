# -*- gdb-script -*-
# this file was automatically generated by gen-test-all
# for architecture rv32imacu

set remotetimeout 5000
set remotelogfile gdb-remote.log
set logging overwrite
set logging file gdb-client.log
set logging on
set pagination off

target remote | openocd --debug --log_output openocd.log --command "gdb_port pipe" --file ./testing/scripts/../targets/p1_hs2.cfg

define run_prog
  dont-repeat

  monitor reset halt

  delete
  printf "Loading $arg0\n"
  file $arg0
  load

  break exit
  commands
    info registers
  end

  continue

end

define run_test_p
  dont-repeat

  monitor reset halt

  delete
  printf "Loading $arg0\n"
  file $arg0
  load

  break write_tohost
  commands
    if $gp == 1
      printf "PASS\n"
    else
      printf "FAIL (tohost=%x)\n", $gp
    end
  end

  continue

end

define run_test_v
  dont-repeat

  monitor reset halt

  delete
  printf "Loading $arg0\n"
  file $arg0
  load

  break terminate
  commands
    if $a0 == 1
      printf "PASS\n"
    else
      printf "FAIL (tohost=%x)\n", $a0
    end
  end

  continue

  if $a0 == 1
    printf "PASS\n"
  else
    printf "FAIL (tohost=%x)\n", $a0
  end

end

run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ua-p-amoadd_w
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ua-p-amoand_w
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ua-p-amomaxu_w
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ua-p-amomax_w
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ua-p-amominu_w
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ua-p-amomin_w
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ua-p-amoor_w
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ua-p-amoswap_w
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ua-p-amoxor_w
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ua-p-lrsc
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32uc-p-rvc
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-add
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-addi
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-and
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-andi
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-auipc
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-beq
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-bge
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-bgeu
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-blt
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-bltu
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-bne
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-fence_i
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-jal
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-jalr
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-lb
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-lbu
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-lh
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-lhu
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-lui
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-lw
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-or
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-ori
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-sb
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-sh
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-simple
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-sll
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-slli
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-slt
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-slti
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-sltiu
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-sltu
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-sra
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-srai
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-srl
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-srli
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-sub
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-sw
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-xor
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32ui-p-xori
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32um-p-div
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32um-p-divu
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32um-p-mul
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32um-p-mulh
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32um-p-mulhsu
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32um-p-mulhu
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32um-p-rem
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32um-p-remu
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32mi-p-breakpoint
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32mi-p-csr
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32mi-p-illegal
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32mi-p-ma_addr
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32mi-p-ma_fetch
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32mi-p-mcsr
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32mi-p-sbreak
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32mi-p-scall
run_test_p ./testing/scripts/../../riscv-tools/riscv-tests/isa/rv32mi-p-shamt

disconnect
quit
